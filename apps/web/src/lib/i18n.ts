import { writable, derived } from 'svelte/store';

export const locales = [
    { code: 'en', name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
    { code: 'zh', name: 'ç®€ä½“ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
    { code: 'ja', name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
];

const translations: Record<string, any> = {
    en: {
        title: "Global Service Monitoring",
        description: "Real-time global service latency monitoring and status page.",
        status: {
            operational: "Operational",
            degraded: "Degraded",
            down: "Service Disruption",
            maintenance: "Maintenance",
            upcoming: "Upcoming",
            completed: "Completed",
            active: "Active",
            future: "Future",
            done: "Done",
            pending: "Pending",
            resolved: "Resolved",
            investigating: "Investigating",
            unknown: "Unknown"
        },
        labels: {
            get: "GET", post: "POST", head: "HEAD", ms: "ms", duration: "Duration", mins: "mins",
            uptime: "Uptime",
            latency: "Latency",
            last_check: "Last Check",
            history: "History",
            reason: "Reason",
            id: "ID",
            name: "Name",
            url: "Url",
            method: "Method",
            action: "Action",
            on: "On",
            badge: "Badge",
            passphrase: "Passphrase",
            secure_access: "Secure Access Control",
            access_denied: "ACCESS DENIED: Invalid Passphrase",
            authenticate: "AUTHENTICATE",
            return_dashboard: "Return to Dashboard",
            back_dashboard: "Back to Dashboard",
            max: "Max",
            avg: "Avg",
            view_details: "View Details"
        },
        sections: {
            past_incidents: "Past Incidents",
            scheduled_maintenance: "Scheduled Maintenance",
            announcements: "Announcements",
            no_incidents: "No incidents recently.",
            no_maintenance: "No scheduled maintenance records found.",
            no_announcements: "No active announcements.",
            system_status: "System Status",
            latency_trend: "24-Hour Latency Trend",
            realtime_data: "Real-time data loaded on demand.",
            fetching_history: "Fetching history...",
            no_data_24h: "No data available for the past 24 hours.",
            no_data_monitor: "No monitoring data available",
            deploy_tip: "Please deploy to Cloudflare Pages to view real data",
            unknown_url: "Unknown URL",
            admin_title: "Admin Dashboard",
            active_announcements: "ACTIVE ANNOUNCEMENTS",
            upcoming_recent: "UPCOMING & RECENT",
            create_channel: "Create New Channel",
            active_channels: "Active Channels",
            no_channels: "No notification channels configured yet",
            delete_channel_confirm: "Delete this channel?",
            markdown_copied: "Markdown Copied!\\nCopied to clipboard, paste it into your README!"
        },
        detail: {
            incident_history: "Incident History",
            maintenance_history: "Maintenance History",
            recent_checks: "Recent Checks (Last 50)",
            no_incidents: "No incidents reported.",
            no_maintenance: "No maintenance records.",
            resolved_after: "Resolved after",
            ongoing: "Ongoing",
            start: "Start",
            end: "End",
            time: "Time",
            status: "Status",
            latency: "Latency",
            region: "Region",
            response_time_24h: "Response Time (24h)",
            uptime_24h: "24h Uptime"
        },
        footer: {
            powered_by: "Powered by",
            subscribe_rss: "Subscribe to Updates"
        },
        admin: {
            title: "Admin Dashboard",
            logout: "Logout", export: "Export", import: "Import",
            sec_announcement: "Post Announcement",
            sec_settings: "Settings",
            sec_maintenance: "Schedule Maintenance",
            sec_add_target: "Add Monitor Target",
            sec_notifications: "Notification Channels",
            label_title: "Title", label_type: "Type", label_service: "Service",
            label_start: "Start Time", label_end: "End Time",
            label_name: "Name", label_url: "URL", label_method: "Method",
            label_token: "Bot Token", label_chatid: "Chat ID", label_channel: "Webhook URL",
            label_retention: "Raw Data Retention",
            label_site_title: "Site Title",
            label_site_desc: "Site Description",
            label_footer_text: "Footer Text",
            btn_post: "POST", btn_schedule: "Schedule", btn_add: "Add",
            btn_save: "Save", btn_cancel: "Cancel", btn_edit: "Edit", btn_del: "Del",
            ph_title: "Title / Message", ph_service_name: "Service Name", ph_url: "https://example.com",
            ph_webhook: "https://discord.com/api/webhooks/...",
            info: "Info",
            warning: "Warning",
            alert: "Alert",
            post: "POST",
            now: "NOW",
            search_placeholder: "Search monitors...",
            batch_actions: "Batch Actions",
            selected: "Selected",
            status_active: "Monitoring Active",
            status_paused: "Monitoring Paused",
            btn_pin: "Pin",
            btn_pause: "Pause",
            btn_resume: "Resume",
            btn_delete: "Delete",
            confirm_delete: "Are you sure?"
        }
    },
    zh: {
        title: "å…¨çƒæœåŠ¡ç›‘æ§",
        description: "å®æ—¶å…¨çƒæœåŠ¡å»¶è¿Ÿç›‘æ§ä¸æœåŠ¡çŠ¶æ€é¡µã€‚",
        status: {
            operational: "æ­£å¸¸", degraded: "é™çº§", down: "ä¸­æ–­",
            maintenance: "ç»´æŠ¤ä¸­", upcoming: "å³å°†å¼€å§‹", completed: "å·²ç»“æŸ",
            active: "è¿›è¡Œä¸­", future: "æœªå¼€å§‹", done: "å·²å®Œæˆ",
            pending: "æ£€æµ‹ä¸­", resolved: "å·²æ¢å¤", investigating: "è°ƒæŸ¥ä¸­",
            unknown: "æœªçŸ¥"
        },
        labels: {
            get: "GET", post: "POST", head: "HEAD", ms: "æ¯«ç§’", duration: "æŒç»­æ—¶é—´", mins: "åˆ†",
            uptime: "å¯ç”¨ç‡",
            latency: "å»¶è¿Ÿ",
            last_check: "æœ€åæ£€æŸ¥",
            history: "å†å²è®°å½•",
            reason: "åŸå› ",
            id: "ID",
            name: "åç§°",
            url: "åœ°å€",
            method: "æ–¹æ³•",
            action: "æ“ä½œ",
            on: "å¼€å¯",
            badge: "å¾½ç« ",
            passphrase: "è®¿é—®å¯†ç ",
            secure_access: "å®‰å…¨è®¿é—®æ§åˆ¶",
            access_denied: "è®¿é—®æ‹’ç»ï¼šå¯†ç é”™è¯¯",
            authenticate: "éªŒè¯èº«ä»½",
            return_dashboard: "è¿”å›ä»ªè¡¨ç›˜",
            back_dashboard: "è¿”å›ä»ªè¡¨ç›˜",
            max: "æœ€å¤§",
            avg: "å¹³å‡",
            view_details: "æŸ¥çœ‹è¯¦æƒ…"
        },
        sections: {
            past_incidents: "è¿‡å¾€äº‹æ•…",
            scheduled_maintenance: "è®¡åˆ’ç»´æŠ¤",
            announcements: "å…¬å‘Š",
            no_incidents: "è¿‘æœŸæ— äº‹æ•…ã€‚",
            no_maintenance: "æš‚æ— è®¡åˆ’ç»´æŠ¤è®°å½•",
            no_announcements: "æ— å…¬å‘Šã€‚",
            system_status: "ç³»ç»ŸçŠ¶æ€",
            latency_trend: "24å°æ—¶å»¶è¿Ÿè¶‹åŠ¿",
            realtime_data: "å®æ—¶æ•°æ®æŒ‰éœ€åŠ è½½",
            fetching_history: "æ­£åœ¨è·å–å†å²æ•°æ®...",
            no_data_24h: "è¿‡å»24å°æ—¶æ— æ•°æ®",
            no_data_monitor: "æš‚æ— ç›‘æ§æ•°æ®",
            deploy_tip: "è¯·éƒ¨ç½²åˆ° Cloudflare Pages åæŸ¥çœ‹çœŸå®æ•°æ®",
            unknown_url: "æœªçŸ¥é“¾æ¥",
            admin_title: "ç®¡ç†åå°",
            active_announcements: "å½“å‰å…¬å‘Š",
            upcoming_recent: "è¿‘æœŸç»´æŠ¤",
            create_channel: "åˆ›å»ºé€šçŸ¥æ¸ é“",
            active_channels: "å·²å¯ç”¨æ¸ é“",
            no_channels: "æš‚æ— é…ç½®é€šçŸ¥æ¸ é“",
            delete_channel_confirm: "ç¡®è®¤åˆ é™¤æ­¤æ¸ é“ï¼Ÿ",
            markdown_copied: "Markdown Copied!\\nå·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå¿«å»ç²˜è´´åˆ° README å§ï¼"
        },
        detail: {
            incident_history: "äº‹æ•…å†å²",
            maintenance_history: "ç»´æŠ¤å†å²",
            recent_checks: "æœ€è¿‘æ£€æŸ¥ (æœ€å50æ¬¡)",
            no_incidents: "æš‚æ— äº‹æ•…æŠ¥å‘Šã€‚",
            no_maintenance: "æš‚æ— ç»´æŠ¤è®°å½•ã€‚",
            resolved_after: "æ¢å¤è€—æ—¶",
            ongoing: "è¿›è¡Œä¸­",
            start: "å¼€å§‹",
            end: "ç»“æŸ",
            time: "æ—¶é—´",
            status: "çŠ¶æ€",
            latency: "å»¶è¿Ÿ",
            region: "åŒºåŸŸ",
            response_time_24h: "24å°æ—¶å“åº”æ—¶é—´",
            uptime_24h: "24å°æ—¶å¯ç”¨ç‡"
        },
        footer: {
            powered_by: "æŠ€æœ¯æ”¯æŒ",
            subscribe_rss: "è®¢é˜…çŠ¶æ€æ›´æ–°"
        },
        admin: {
            title: "ç®¡ç†åå°",
            logout: "é€€å‡ºç™»å½•", export: "å¯¼å‡ºé…ç½®", import: "å¯¼å…¥é…ç½®",
            sec_announcement: "å‘å¸ƒå…¬å‘Š",
            sec_settings: "ç³»ç»Ÿè®¾ç½®",
            sec_maintenance: "è®¡åˆ’ç»´æŠ¤",
            sec_add_target: "æ·»åŠ ç›‘æ§ç›®æ ‡",
            sec_notifications: "é€šçŸ¥æ¸ é“",
            label_title: "æ ‡é¢˜", label_type: "ç±»å‹", label_service: "æœåŠ¡",
            label_start: "å¼€å§‹æ—¶é—´", label_end: "ç»“æŸæ—¶é—´",
            label_name: "åç§°", label_url: "ç›‘æ§åœ°å€", label_method: "è¯·æ±‚æ–¹å¼",
            label_token: "Bot Token", label_chatid: "Chat ID", label_channel: "Webhook åœ°å€",
            label_retention: "åŸå§‹æ•°æ®ä¿ç•™å¤©æ•°",
            label_site_title: "ç½‘ç«™æ ‡é¢˜",
            label_site_desc: "ç½‘ç«™æè¿°",
            label_footer_text: "é¡µè„šæ–‡æœ¬",
            btn_post: "å‘å¸ƒ", btn_schedule: "åˆ›å»ºè®¡åˆ’", btn_add: "æ·»åŠ ",
            btn_save: "ä¿å­˜", btn_cancel: "å–æ¶ˆ", btn_edit: "ç¼–è¾‘", btn_del: "åˆ é™¤",
            ph_title: "æ ‡é¢˜ / æ¶ˆæ¯å†…å®¹", ph_service_name: "æœåŠ¡åç§°", ph_url: "https://example.com",
            ph_webhook: "https://discord.com/api/webhooks/...",
            info: "ä¿¡æ¯",
            warning: "è­¦å‘Š",
            alert: "ç´§æ€¥",
            post: "å‘å¸ƒ",
            now: "æ­¤åˆ»",
            search_placeholder: "æœç´¢ç›‘æ§...",
            batch_actions: "æ‰¹é‡æ“ä½œ",
            selected: "å·²é€‰",
            status_active: "ç›‘æ§ä¸­",
            status_paused: "å·²æš‚åœ",
            btn_pin: "ç½®é¡¶",
            btn_pause: "æš‚åœ",
            btn_resume: "æ¢å¤",
            btn_delete: "åˆ é™¤",
            confirm_delete: "ç¡®å®šåˆ é™¤ï¼Ÿ"
        }
    },
    ja: {
        title: "ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ",
        description: "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒƒã‚¸ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ç›£è¦–ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒšãƒ¼ã‚¸ã€‚",
        status: {
            operational: "ç¨¼åƒä¸­", degraded: "ä½ä¸‹", down: "åœæ­¢",
            maintenance: "ãƒ¡ãƒ³ãƒ†ä¸­", upcoming: "äºˆå®š", completed: "å®Œäº†",
            active: "é€²è¡Œä¸­", future: "äºˆå®š", done: "æ¸ˆ",
            pending: "ç¢ºèªä¸­", resolved: "å¾©æ—§æ¸ˆ", investigating: "èª¿æŸ»ä¸­",
            unknown: "ä¸æ˜"
        },
        labels: {
            get: "GET", post: "POST", head: "HEAD", ms: "ms", duration: "æœŸé–“", mins: "åˆ†",
            uptime: "ç¨¼åƒç‡",
            latency: "ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·",
            last_check: "æœ€çµ‚ç¢ºèª",
            history: "å±¥æ­´",
            reason: "ç†ç”±",
            id: "ID",
            name: "åå‰",
            url: "URL",
            method: "ãƒ¡ã‚½ãƒƒãƒ‰",
            action: "æ“ä½œ",
            on: "ã‚ªãƒ³",
            badge: "ãƒãƒƒã‚¸",
            passphrase: "ãƒ‘ã‚¹ãƒ•ãƒ¬ãƒ¼ã‚º",
            secure_access: "å®‰å…¨ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡",
            access_denied: "ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦ï¼šãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒç„¡åŠ¹ã§ã™",
            authenticate: "èªè¨¼",
            return_dashboard: "ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹",
            back_dashboard: "ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹",
            max: "æœ€å¤§",
            avg: "å¹³å‡",
            view_details: "è©³ç´°ã‚’è¦‹ã‚‹"
        },
        sections: {
            past_incidents: "éå»ã®éšœå®³",
            scheduled_maintenance: "ãƒ¡ãƒ³ãƒ†äºˆå®š",
            announcements: "ãŠçŸ¥ã‚‰ã›",
            no_incidents: "éšœå®³ãªã—ã€‚",
            no_maintenance: "è¨ˆç”»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®è¨˜éŒ²ã¯ã‚ã‚Šã¾ã›ã‚“",
            no_announcements: "ãŠçŸ¥ã‚‰ã›ãªã—ã€‚",
            system_status: "ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹",
            latency_trend: "24æ™‚é–“ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·å‚¾å‘",
            realtime_data: "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ã¯ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ã§ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™",
            fetching_history: "å±¥æ­´ã‚’å–å¾—ä¸­...",
            no_data_24h: "éå»24æ™‚é–“ã®ãƒ‡ãƒ¼ã‚¿ã¯ã‚ã‚Šã¾ã›ã‚“",
            no_data_monitor: "ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã¯ã‚ã‚Šã¾ã›ã‚“",
            deploy_tip: "å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹ã«ã¯Cloudflare Pagesã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ãã ã•ã„",
            unknown_url: "ä¸æ˜ãªURL",
            admin_title: "ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰",
            active_announcements: "ç¾åœ¨ã®ãŠçŸ¥ã‚‰ã›",
            upcoming_recent: "ä»Šå¾Œã®äºˆå®šã¨æœ€è¿‘ã®å±¥æ­´",
            create_channel: "æ–°ã—ã„ãƒãƒ£ãƒ³ãƒãƒ«ã‚’ä½œæˆ",
            active_channels: "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒãƒ£ãƒ³ãƒãƒ«",
            no_channels: "é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ã¯ã¾ã è¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“",
            delete_channel_confirm: "ã“ã®ãƒãƒ£ãƒ³ãƒãƒ«ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ",
            markdown_copied: "Markdown Copied!\\nã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸã€‚READMEã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ï¼"
        },
        detail: {
            incident_history: "éšœå®³å±¥æ­´",
            maintenance_history: "ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å±¥æ­´",
            recent_checks: "æœ€è¿‘ã®ãƒã‚§ãƒƒã‚¯ (æœ€æ–°50ä»¶)",
            no_incidents: "éšœå®³å ±å‘Šã¯ã‚ã‚Šã¾ã›ã‚“ã€‚",
            no_maintenance: "ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹è¨˜éŒ²ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚",
            resolved_after: "è§£æ±ºæ‰€è¦æ™‚é–“",
            ongoing: "ç¶™ç¶šä¸­",
            start: "é–‹å§‹",
            end: "çµ‚äº†",
            time: "æ™‚é–“",
            status: "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹",
            latency: "ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·",
            region: "ãƒªãƒ¼ã‚¸ãƒ§ãƒ³",
            response_time_24h: "24æ™‚é–“å¿œç­”æ™‚é–“",
            uptime_24h: "24æ™‚é–“ç¨¼åƒç‡"
        },
        footer: {
            powered_by: "Powered by",
            subscribe_rss: "æ›´æ–°ã‚’è³¼èª­ã™ã‚‹"
        },
        admin: {
            title: "ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰",
            logout: "ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ", export: "ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ", import: "ã‚¤ãƒ³ãƒãƒ¼ãƒˆ",
            sec_announcement: "ãŠçŸ¥ã‚‰ã›æŠ•ç¨¿",
            sec_settings: "ã‚·ã‚¹ãƒ†ãƒ è¨­å®š",
            sec_maintenance: "ãƒ¡ãƒ³ãƒ†è¨ˆç”»",
            sec_add_target: "ç›£è¦–è¿½åŠ ",
            sec_notifications: "é€šçŸ¥è¨­å®š",
            label_title: "ä»¶å", label_type: "ã‚¿ã‚¤ãƒ—", label_service: "ã‚µãƒ¼ãƒ“ã‚¹",
            label_start: "é–‹å§‹æ™‚é–“", label_end: "çµ‚äº†æ™‚é–“",
            label_name: "åå‰", label_url: "URL", label_method: "ãƒ¡ã‚½ãƒƒãƒ‰",
            label_token: "Bot Token", label_chatid: "Chat ID", label_channel: "Webhook URL",
            label_retention: "ç”Ÿãƒ‡ãƒ¼ã‚¿ä¿æŒæœŸé–“(æ—¥)",
            label_site_title: "ã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ«",
            label_site_desc: "ã‚µã‚¤ãƒˆèª¬æ˜",
            label_footer_text: "ãƒ•ãƒƒã‚¿ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆ",
            btn_post: "æŠ•ç¨¿", btn_schedule: "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«", btn_add: "è¿½åŠ ",
            btn_save: "ä¿å­˜", btn_cancel: "ã‚­ãƒ£ãƒ³ã‚»ãƒ«", btn_edit: "ç·¨é›†", btn_del: "å‰Šé™¤",
            ph_title: "ã‚¿ã‚¤ãƒˆãƒ« / ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸", ph_service_name: "ã‚µãƒ¼ãƒ“ã‚¹å", ph_url: "https://example.com",
            ph_webhook: "https://discord.com/api/webhooks/...",
            info: "æƒ…å ±",
            warning: "è­¦å‘Š",
            alert: "ç·Šæ€¥",
            post: "æŠ•ç¨¿",
            now: "ä»Š",
            search_placeholder: "ç›£è¦–ã‚’æ¤œç´¢...",
            batch_actions: "ä¸€æ‹¬æ“ä½œ",
            selected: "é¸æŠä¸­",
            status_active: "ç›£è¦–ä¸­",
            status_paused: "ä¸€æ™‚åœæ­¢",
            btn_pin: "å›ºå®š",
            btn_pause: "åœæ­¢",
            btn_resume: "å†é–‹",
            btn_delete: "å‰Šé™¤",
            confirm_delete: "å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ"
        }
    }
};
if (!translations.zh) translations.zh = translations.en;
if (!translations.ja) translations.ja = translations.en;

export type Locale = 'en' | 'zh' | 'ja';
export const locale = writable<Locale>('en');
export const t = derived(locale, ($locale) => {
    return translations[$locale] || translations['en'];
});

// åˆ‡æ¢å‡½æ•°
export const toggleLocale = (newLang: string) => {
    if (translations[newLang]) {
        locale.set(newLang as Locale);
        if (typeof document !== 'undefined') {
            document.cookie = `liteping_lang=${newLang}; path=/; max-age=31536000`;
        }
    }
};
